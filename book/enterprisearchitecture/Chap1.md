## 계층화
복잡한 소프트웨어 시스템을 분할하는 데 사용하는 가장 일반적인 기법  
상위 계층은 하위 계층이 정의하는 다양한 서비스를 사용하지만, 하위 계층은 상위 계층을 인식하지 못한다.  
계층형 아키텍쳐에서 가장 어려운 부분은 어떤 계층을 만들고 각 계층이 어떤 역할을 담당할지 결정하는 것이다.

### 엔터프라이즈 애플리케이션에서 계층의 발전
계층의 개념은 90년대 클라이언트 - 서버 시스템의 등장과 함께 중요해졌다.  
클라이언트가 사용자 사용자 인터페이스와 다른 애플리케이션 코드를 포함하고 서버가 관계형 데이터베이스를 포함하는 2계층 시스템이다.  

비즈니스 규칙, 유효성 검사, 계산과 같은 도메인 로직을 수행하는 경우에 위와 같은 시스템에 문제가 발생했다.  
일반적으로 클라이언트에 로직을 추가(UI 화면에 직접 삽입) 하는 방법을 사용했는데, 로직이 복잡해질수록 작업하기가 어려웠다.  

다른 한쪽에서는 객체지향의 세계가 시작됐는데, 위에 대한 해결책으로 3계층 시스템을 제안했다.  
이는 UI 를 위한 프레젠테이션 계층, 도메인 로직을 위한 도메인 계층, 데이터 원본이다.  
복잡한 도메인 로직을 UI 에서 분리해 별도의 계층으로 만들고 객체를 활용했다.  
이 당시에는 시스템들이 너무 간단했기 때문에, 이와 같은 구조가 큰 진전을 이루지 못했다.  

그러던 중 웹이 등장하면서 크게 성장하기 시작했다.


### 세 가지 주요 계층
이 책에서는 프레젠테이션, 도메인, 데이터 원본 이라는 세 가지 주요 계층으로 구성되는 아키텍쳐를 주로 다룬다.  
도메인과 데이터 원본은 프레젠테이션에 의존하지 않아야 한다. 이 규칙을 지키면 동일한 기반을 유지하며 다른 프레젠테이션으로 쉽게 교체할수 있으며, 다른 계층에 미치는 영향을 최소화 하며 프레젠테이션을 수정하기 쉽다.


#### 프레젠테이션
사용자와 소프트웨어 간 상호작용을 처리한다.  
주 역할은 사용자에게 정보를 표시하고 사용자가 내린 명령을 도메인과 데이터 원본에서 수행할 작업으로 해석한다.

#### 데이터 원본
트랜잭션 모니터, 다른 애플리케이션, 메시징 시스템 등 다른 시스템과 통신한다.  
대부분의 엔터프라이즈 애플리케이션에서 가장 큰 데이터 원본은 데이터베이스다.

#### 도메인 논리
애플리케이션이 수행해야 하는 도메인과 관련된 작업이다.  
입력과 저장된 데이터를 바탕으로 하는 계산, 프레젠테이션으로부터 받은 데이터의 유효성 검사등이다.

